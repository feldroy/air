# -----> Check - Avoid writing any formatted files back! <------
# -----> Donâ€™t modify files, but indicate when changes are necessary with a message. <------
# Note: we are using https://github.com/j178/prek a better `pre-commit`, re-engineered in Rust!
# See https://prek.j178.dev/configuration for more information
# See https://prek.j178.dev/builtin for more hooks
ci:
  autofix_prs: false
fail_fast: false
minimum_prek_version: "0.2.25"

repos:
  - repo: builtin
    hooks:
      - id: check-added-large-files # Prevent giant files from being committed.
        args:
          - --maxkb=1024 # 1MB
        priority: 0
      - id: check-case-conflict # Check for files that would conflict in case-insensitive filesystems.
        priority: 0
      - id: check-json # Attempts to load all json files to verify syntax.
        priority: 0
      - id: check-json5 # Attempts to load all JSON5 files to verify syntax.
        priority: 0
      - id: check-merge-conflict # Check for files that contain merge conflict strings.
        priority: 0
      - id: check-toml # Attempts to load all TOML files to verify syntax.
        priority: 0
      - id: check-yaml # Attempts to load all yaml files to verify syntax.
        priority: 0
        args: ["--allow-multiple-documents"]
      - id: detect-private-key # Checks for the existence of private keys.
        priority: 0
      - id: end-of-file-fixer # Ensure newline at EOF.
      - id: fix-byte-order-marker # Remove UTF-8 byte order marker.
      - id: mixed-line-ending # Replaces or checks mixed line ending.
      - id: trailing-whitespace # Trim trailing whitespace.
  - repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v6.0.0
    hooks:
      - id: check-ast # Simply check whether files parse as valid python.
        priority: 0
      - id: check-vcs-permalinks # Ensures that links to vcs websites are permalinks.
        priority: 0
      - id: name-tests-test # verifies that test files are named correctly.
        args: ["--pytest-test-first"]
        priority: 0
        exclude:
          glob:
            - tests/utils.py
            - tests/components.py
      - id: pretty-format-json # Checks that all your JSON files are pretty(keys are sorted and indented).
        priority: 0
  - repo: meta
    hooks:
      - id: check-hooks-apply # ensures that the configured hooks apply to at least one file in the repository.
        priority: 0
        files:
          glob:
            - .pre-commit-config-check.yaml
            - .pre-commit-config-format.yaml
      - id: check-useless-excludes # ensures that exclude directives apply to any file in the repository.
        priority: 0
        files:
          glob:
            - .pre-commit-config-check.yaml
            - .pre-commit-config-format.yaml
  - repo: https://github.com/rhysd/actionlint
    rev: v1.7.10
    hooks:
      - id: actionlint # Runs actionlint to lint GitHub Actions workflow files.
        language: golang
        priority: 0
        additional_dependencies:
          - "github.com/wasilibs/go-shellcheck/cmd/shellcheck@v0.11.1"
  - repo: https://github.com/adamchainz/blacken-docs
    rev: 1.20.0
    hooks:
      - id: blacken-docs # Run Black on Python code blocks in documentation files.
        language: python
        priority: 0
        additional_dependencies:
          - black==25.12.0
        args: ["--check", "--preview", "--line-length=79"]
  - repo: https://github.com/python-jsonschema/check-jsonschema
    rev: 0.36.0 # A JSON Schema CLI and pre-commit hook built on jsonschema.
    hooks:
      - id: check-codecov # Validate Codecov config against the schema provided by SchemaStore.
        priority: 0
      - id: check-github-issue-config # Validate GitHub Actions against the schema provided by SchemaStore.
        priority: 0
        files:
          glob:
            - .github/ISSUE_TEMPLATE/config.yaml
      - id: check-github-workflows # Validate GitHub Workflows against the schema provided by SchemaStore.
        priority: 0
      - id: check-renovate # Validate Renovate config against the schema provided by Renovate.
        language: python
        priority: 0
        additional_dependencies: ["json5"]
  - repo: https://github.com/rohaquinlop/complexipy-pre-commit
    rev: v4.2.0
    hooks:
      - id: complexipy # Run the cognitive complexity checker.
        priority: 0
  - repo: https://github.com/fredrikaverpil/creosote
    rev: v4.1.0
    hooks:
      - id: creosote # Identify unused dependencies and avoid a bloated virtual environment.
        priority: 0
  - repo: https://github.com/rtts/djhtml
    rev: 3.0.10
    hooks:
      - id: djhtml # A pure-Python Django/Jinja template indenter without dependencies.
        priority: 0
        entry: djhtml --check --tabwidth 2
  - repo: https://github.com/pycqa/flake8
    rev: 7.3.0
    hooks:
      - id: flake8 # Flake8 glues pycodestyle, pyflakes, mccabe, and plugins; we disable core checks, run plugins only.
        language: python
        priority: 0
        name: flake8-class-attributes-order & flake8-pydantic
        additional_dependencies:
          - Flake8-pyproject==1.2.4 # Flake8 plug-in loading the configuration from pyproject.toml
          - flake8-class-attributes-order==0.3.0 # A flake8 extension that checks classes attributes order.
          - flake8-pydantic==0.4.0 # A flake8 plugin to check Pydantic related code.
  - repo: https://github.com/hougesen/mdsf
    rev: v0.11.1
    hooks:
      - id: mdsf-verify # Lint markdown code snippets using your favorite tools.
        language: rust
        priority: 0
        args:
          - --log-level=warn
          - --on-missing-language-definition=fail
          - --on-missing-tool-binary=fail
  - repo: https://github.com/regebro/pyroma
    rev: 5.0.1
    hooks:
      - id: pyroma # Rate your Python packages package friendliness.
        priority: 0
  - repo: https://github.com/renovatebot/pre-commit-hooks
    rev: 42.84.0
    hooks:
      - id: renovate-config-validator
        priority: 0
        args: [--strict]
        files:
          glob:
            - .github/renovate.json5
  - repo: https://github.com/astral-sh/ruff-pre-commit
    rev: v0.14.13
    hooks:
      - id: ruff-format # Check for formatting violations using Ruff.
        priority: 0
        args: ["--check", "--output-format=concise"]
        types_or: [python]
      - id: ruff-check # Check for lint violations using Ruff.
        priority: 0
        args: ["--output-format=concise"]
        types_or: [python]
  - repo: https://github.com/rvben/rumdl-pre-commit
    rev: v0.0.224
    hooks:
      - id: rumdl # A modern, high-performance Markdown linter and formatter, built for speed in Rust.
        priority: 0
        args: ["--output-format=concise"]
  - repo: https://github.com/pre-commit/sync-pre-commit-deps
    rev: v0.0.3
    hooks:
      - id: sync-pre-commit-deps # Sync pre-commit hook dependencies based on other installed hooks.
        files:
          glob:
            - .pre-commit-config-check.yaml
  - repo: https://github.com/tombi-toml/tombi-pre-commit
    rev: v0.7.23
    hooks:
      - id: tombi-lint # A TOML linter.
        priority: 0
  - repo: https://github.com/crate-ci/typos
    rev: v1.42.1
    hooks:
      - id: typos # Source code spell checker.
        priority: 0
        args: ["--force-exclude", "--format=brief"]
  - repo: https://github.com/henryiii/validate-pyproject-schema-store
    rev: 2026.01.22
    hooks:
      - id: validate-pyproject # Validation library for a simple check on pyproject.toml.
        priority: 0
  - repo: https://github.com/google/yamlfmt
    rev: v0.21.0
    hooks:
      - id: yamlfmt # Extensible Yaml linter.
        priority: 0
        args: ["-lint"]
        # --------------------------------------------------------------------------------------------------------------
        # TODO -> Enable once all lint violations are fixed:
        #  - repo: https://github.com/editorconfig-checker/editorconfig-checker.python
        #    rev: 3.6.0
        #    hooks:
        #      - id: editorconfig-checker # A tool to verify that your files are in harmony with your .editorconfig
        #        alias: ec
        #        priority: 0
        #  - repo: https://github.com/google/osv-scanner
        #    rev: v2.3.1 # https://google.github.io/osv-scanner/usage/#pre-commit-integration
        #    hooks:
        #      - id: osv-scanner # Vulnerability scanner written in Go.
        #        priority: 0
        #  - repo: https://github.com/zizmorcore/zizmor-pre-commit
        #    rev: v1.19.0
        #    hooks:
        #      - id: zizmor # Static analysis tool for GitHub Actions.
        #        priority: 0
        #  - repo: https://github.com/lycheeverse/lychee
        #    rev: nightly
        #    hooks:
        #      - id: lychee
        #        priority: 0
        #        types: ["markdown"]
        #  - repo: https://github.com/errata-ai/vale
        #    rev: v3.13.0
        #    hooks:
        #      - id: vale
        #        priority: 0
        #        types: [markdown]
        #        args: [--output=line, --minAlertLevel=error]
